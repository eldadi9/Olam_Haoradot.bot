<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>📈 גרפים</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="container py-4">

<h2 class="text-center mb-4">📈 גרפים סטטיסטיים</h2>

<canvas id="usersChart" height="150"></canvas>
<canvas id="actionsChart" height="150" class="mt-4"></canvas>
<canvas id="dailyChart" height="150" class="mt-4"></canvas>

<script>
const usersData = {{ users_data|tojson }};
const actionsData = {{ actions_data|tojson }};
const dailyData = {{ daily_data|tojson }};

// משתמשים מובילים
new Chart(document.getElementById('usersChart'), {
    type: 'bar',
    data: {
        labels: Object.keys(usersData),
        datasets: [{
            label: 'משתמשים פעילים',
            data: Object.values(usersData),
            backgroundColor: 'rgba(54, 162, 235, 0.7)'
        }]
    }
});

// סוגי פעולות
new Chart(document.getElementById('actionsChart'), {
    type: 'pie',
    data: {
        labels: Object.keys(actionsData),
        datasets: [{
            label: 'פעולות',
            data: Object.values(actionsData),
            backgroundColor: ['rgba(75, 192, 192, 0.7)', 'rgba(255, 206, 86, 0.7)', 'rgba(255, 99, 132, 0.7)']
        }]
    }
});

// פעילות יומית
new Chart(document.getElementById('dailyChart'), {
    type: 'line',
    data: {
        labels: Object.keys(dailyData),
        datasets: [{
            label: 'פעילות יומית',
            data: Object.values(dailyData),
            backgroundColor: 'rgba(153, 102, 255, 0.7)',
            fill: true
        }]
    }
});
</script>

</body>
</html>
